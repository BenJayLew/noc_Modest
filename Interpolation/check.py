import os
import re

probabilityFormat = re.compile('\d.\d*')

probabilityTable = {
        "0" : [(1/9), (4/27), (16/81), (20/81), (1/27), (1/9), (1/27), (1/81), (2/81), (2/81), (1/81), (1/81), (2/81)],
        "1" : [(1/9), (4/27), (8/27), (4/27), (1/27), (1/9), 0, (1/27), (1/27), 0, (1/27), 0, (1/27)],
        "2" : [(1/9), (4/27), (2/9), (2/9), (1/27), (1/9), (1/27), 0, (1/27), 0, 0, (1/27), (1/27)],
        "3" : [(1/9), (4/27), (2/27), (10/27), (1/27), (1/9), (2/27), 0, 0, (2/27), 0, 0, 0],
        "4" : [0, 0, (4/9), 0, 0, (1/3), 0, 0, (1/9), 0, 0, 0, (1/9)],
        "5" : [0, 0, 0, (4/9), 0, (1/3), (1/9), 0, 0, (1/9), 0, 0, 0],
        "6" : [(1/9), (2/9), (2/9), 0, (1/9), (1/9), 0, (1/9), (1/9), 0, 0, 0, 0],
        "7" : [(2/9), (1/9), (1/9), (4/9), 0, 0, (1/9), 0, 0, 0, 0, 0, 0],
        "8" : [(2/9), (1/9), (1/9), (4/9), 0, 0, (1/9), 0, 0, 0, 0, 0, 0],
        "9" : [(1/9), (1/9), (1/3), (2/9), 0, (1/9), 0, 0, 0, 0, 0, 0, (1/9)],
        "10" : [(1/9), (1/9), (1/3), (2/9), 0, (1/9), 0, 0, 0, 0, (1/9), 0, 0],
        "11" : [(1/9), (1/3), (1/9), (2/9), (1/9), 0, 0, 0, 0, 0, 0, (1/9), 0],
        "12" : [(1/9), (1/3), (1/9), (2/9), (1/9), 0, 0, 0, 0, (1/9), 0, 0, 0]
        }

stateTable = {
	"1000" :
	"1030" :
	"1210" :
	"1300" :
	"1330" :
	"2010" :
	"2200" :
	"2230" :
	"2310" :
	"3000" :
	"3030" :
	"3210" :
	"3300" :
	"3330" :
	"1001" :
	"1031" :
	"1211" :
	"1301" :
	"1331" :
	"2011" :
	"2201" :
	"2231" :
	"2311" :
	"3001" :
	"3031" :
	"3211" :
	"3301" :
	"3331" :
	"1002" :
	"1032" :
	"1212" :
	"1302" :
	"1332" :
	"2012" :
	"2202" :
	"2232" :
	"2312" :
	"3002" :
	"3032" :
	"3212" :
	"3302" :
	"3332" :
	"1010" :
	"1200" :
	"1230" :
	"1310" :
	"2000" :
	"2030" :
	"2210" :
	"2300" :
	"2330" :
	"3010" :
	"3200" :
	"3230" :
	"3310" :
	"1011" :
	"1201" :
	"1231" :
	"1311" :
	"2001" :
	"2031" :
	"2211" :
	"2301" :
	"2331" :
	"3011" :
	"3201" :
	"3231" :
	"3311" :
	"1012" :
	"1202" :
	"1232" :
	"1312" :
	"2002" :
	"2032" :
	"2212" :
	"2302" :
	"2332" :
	"3012" :
	"3202" :
	"3232" :
	"3312" :
         }

for val0 in range (1,4):
	for i in range (1,4):
		val1 = (i + 1) % 4
		for j in range (1,4):
			val2 = (j + 2) % 4
			for val3 in range (0,3):
				outputFile = "dataFiles/output" + str(val0) + str(val1) + str(val2) + str(val3)
				command = "mono /home/benjaylew/Modest/mcsta.exe arbiterTest13state.modest -E \"val0=" + str(val0) + ", val1=" + str(val1) + ", val2=" + str(val2) + ", val3=" + str(val3) + "\" -O " + str(outputFile)
				os.system(command)
                                dataFile = open(outputFile)
                                data = dataFile.read()
                                data = data.split("Probability:")



